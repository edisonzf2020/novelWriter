# 1. 关键架构理解（开发者必读）

## 1.1 现有AI模块深度分析

> **⚠️ 开发者注意**：本章节至关重要，直接影响实施策略的正确性。请仔细阅读避免架构误解。

经过对`novelwriter/ai/api.py`（1912行）的深度分析，发现现有`NWAiApi`类包含了**两个完全不同层面的功能**，简单的"全部迁移"会破坏现有架构的合理性。

### **🔍 NWAiApi功能层次分析**

**A层：通用数据访问功能**（应该抽取到统一API）
```python