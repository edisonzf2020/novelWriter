# 高层架构

## 技术摘要

`novelWriter` 的现有架构是基于 Python 和 PyQt6 的经典 MVC 模式桌面应用，并拥有完善的技术文档。本次增强将严格遵循其既定模式，通过引入独立的 `ai` 核心包和 `extensions/ai_copilot` UI 包来集成 AI 助手。核心设计 `NWAiApi` 将作为 AI 功能与 `novelwriter.core` 之间的安全桥梁。UI 层面，将新增一个可停靠的右侧面板。

## 当前技术栈 (已验证)

| 类别 | 技术 | 版本/说明 |
| :--- | :--- | :--- |
| 语言 | Python 3 | `setup.cfg` 中指定 `python_requires >= 3.7` |
| UI 框架 | PyQt6 | `setup.cfg` 中指定 `PyQt6>=6.4.0` |
| 架构 | MVC + 分层 | **在 `docs/technical` 中有详细说明** |
| 开发环境 | 项目专用 virtualenv | `source /Users/fanmac/AI/novelWriter/writer/bin/activate` 激活默认运行/测试环境 |
